<main-layout>
	<headline>{{ "reports.title" | translate }}</h2></headline>
    <actions>
    </actions>
	<content>
		<div class="row smallMarginBottom">
			<p>{{ "reports.help.summary" | translate }}</p>
			<ul>
				<li>{{ "reports.help.bullet1" | translate }}</li>
			</ul>
		</div>
    <div class="panel panel-default wdReportsView" ng-init="reportType='MaxUtilization'">
      <form name="reportForm">
      <label class="radiobutton-label">
        <input type="radio" ng-model="reportType" value="FacilityUsage"/>
        Täyttöasteraportti
      </label>
      <label class="radiobutton-label">
        <input type="radio" ng-model="reportType" value="MaxUtilization"/>
        Tiivistelmäraportti
      </label>
      <label class="radiobutton-label">
        <input type="radio" ng-model="reportType" value="HubsAndFacilities"/>
        Alueiden ja pysäköintilaitosten tiedot
      </label>

        <div >
          <div class="row" ng-show="reportType != 'HubsAndFacilities'">
          <label class="radiobutton-label">
            Päivät(t) *
            <input type="text" ng-model="report.startDate" ng-required="reportType != 'HubsAndFacilities'" placeholder="{{date | date:'d.M.yyyy'}}">
            -
            <input type="text" ng-model="report.endDate" placeholder="{{date | date:'d.M.yyyy'}}">
          </label>
          </div>
          <div class="row" ng-show="reportType == 'FacilityUsage'">
          <label ng-init="report.interval=60">
            Raportoinnin tarkuus
            <select ng-model="report.interval" convert-to-number>
               <option value="5">5 min</option>
               <option value="10">10 min</option>
               <option value="15">15 min</option>
               <option value="30">30 min</option>
               <option value="60">60 min</option>
            </select>
          </label>
          </div>
          <div class="row" ng-show="reportType != 'HubsAndFacilities'">
            <label>Operaattori
            <select multiple ng-model="report.operators" ng-options="operator.id as operator.name.fi for operator in allOperators">
              <option value="">Kaikki</option>
            </select>
            </label>
          </div>
          <div class="row" ng-show="reportType != 'HubsAndFacilities'">
            <label>Käyttötapa
            <select multiple ng-model="report.usages" ng-options="usage.id as usage.label for usage in usages">
            </select>
            </label>
          </div>
          <div class="row" ng-show="reportType != 'HubsAndFacilities'" ng-init="report.capacityTypes=['CAR']">
            <label>Ajoneuvotyyppi
            <select multiple ng-model="report.capacityTypes" ng-options="capacityType.id as capacityType.label for capacityType in capacityTypes">
            </select>
            </label>
          </div>
          <div class="row" ng-show="reportType != 'HubsAndFacilities'">
            <label>Alueet
            <select multiple ng-model="report.hubs" ng-options="hub.id as hub.name.fi for hub in allHubs">
              <option value="">Kaikki</option>
            </select>
            </label>
          </div>
          <div class="row" ng-show="reportType != 'HubsAndFacilities'">
            <label>Pysäköintipaikat
            <select multiple ng-model="report.facilities" ng-options="facility.id as facility.name.fi for facility in allFacilities">
              <option value="">Kaikki</option>
            </select>
            </label>
          </div>
        </div>
        <button type="submit" class="btn btn-default" ng-disabled="reportForm.$invalid" ng-click="generate(reportType + '.xlsx', report)">{{ "reports.action.do" | translate }}</button>
      </form>
    </div>
	</content>
</main-layout>